<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact | EV & Electronics Lab</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <h1>Contact</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="topics.html">Topics</a>
    <a href="updates.html">Updates</a>
    <a href="about.html">About</a>
    <a href="contact.html" class="active">Contact</a>
  </nav>
</header>

<section class="content-section">

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a href="index.html">Home</a>
    <span>/</span>
    <span class="current">Contact</span>
  </div>

  <!-- Page Header -->
  <div class="page-header">
    <h1>Get in Touch</h1>
    <p>Have a question, suggestion, or feedback? I read every message ‚Äî feel free to reach out.</p>
  </div>

  <div class="contact-content">
    <div class="contact-grid">
      <!-- Professional Links -->
      <div class="contact-card">
        <h3>Professional Links</h3>
        <div class="contact-links">
          <a href="https://www.linkedin.com/in/neerajyadav18" target="_blank" class="contact-link">
            <span class="link-icon">üíº</span>
            LinkedIn Profile
          </a>
          <a href="https://in.mathworks.com/matlabcentral/profile/authors/16085105" target="_blank" class="contact-link">
            <span class="link-icon">üî¨</span>
            MathWorks Exchange
          </a>
          <a href="mailto:nd18yadav@gmail.com" class="contact-link">
            <span class="link-icon">‚úâÔ∏è</span>
            Direct Email
          </a>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="contact-card">
        <h3>Send Message</h3>
        <form id="contact-form" action="https://formspree.io/f/mvzzrqyl" method="POST" class="contact-form">
          <label>
            Name
            <input type="text" name="name" required>
          </label>

          <label>
            Email
            <input type="email" name="email" required>
          </label>

          <label>
            Message
            <textarea name="message" rows="6" required></textarea>
          </label>

          <button type="submit" class="submit-btn">Send Message</button>

          <p class="form-note">Your message will be sent directly ‚Äî no email client needed.</p>

          <p id="form-status"></p>
        </form>
      </div>
    </div>
  </div>

  <!-- Visitor Counter -->
  <div class="visitor-counter" id="visitor-counter">
    üëÅÔ∏è Visitors: <span id="visitor-count">0</span>
  </div>
</section>

<script>
// Visitor Counter
function initVisitorCounter() {
    const counterElement = document.getElementById('visitor-count');
    const pageId = window.location.pathname;
    const storageKey = `visitor_count_${pageId}`;

    let count = parseInt(localStorage.getItem(storageKey)) || 0;
    count++;
    localStorage.setItem(storageKey, count);
    counterElement.textContent = count;
}

// Contact Form Enhancement with Formspree
function initContactForm() {
    const form = document.getElementById('contact-form');
    const status = document.getElementById('form-status');
    const submitBtn = form.querySelector('.submit-btn');

    if (form) {
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const data = new FormData(form);

            // Update button state
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            status.textContent = '';

            try {
                const response = await fetch(form.action, {
                    method: form.method,
                    body: data,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    status.textContent = "‚úÖ Thanks! Your message has been sent successfully.";
                    status.style.color = "#4caf50";
                    form.reset();
                } else {
                    status.textContent = "‚ö†Ô∏è Oops! Something went wrong. Please try again later.";
                    status.style.color = "#e53935";
                }
            } catch (error) {
                status.textContent = "‚ö†Ô∏è Network error. Please check your connection and try again.";
                status.style.color = "#e53935";
                console.error('Form submission error:', error);
            } finally {
                // Reset button
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Real-time validation with better UX
        const inputs = form.querySelectorAll('input, textarea');
        inputs.forEach(input => {
            input.addEventListener('blur', function() {
                validateField(this);
            });

            input.addEventListener('input', function() {
                // Clear errors as user types
                if (this.style.borderColor !== 'rgba(79, 195, 247, 0.3)') {
                    validateField(this);
                }
            });
        });

        function validateField(field) {
            const value = field.value.trim();
            let isValid = true;
            let message = '';

            if (field.hasAttribute('required') && !value) {
                isValid = false;
                message = 'This field is required';
            } else if (field.type === 'email' && value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    isValid = false;
                    message = 'Please enter a valid email address';
                }
            }

            field.style.borderColor = isValid ? 'rgba(79, 195, 247, 0.3)' : '#f44336';

            // Remove existing error message
            const existingError = field.parentNode.querySelector('.error-message');
            if (existingError) {
                existingError.remove();
            }

            // Add error message if needed
            if (!isValid && message) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.textContent = message;
                errorDiv.style.color = '#f44336';
                errorDiv.style.fontSize = 'var(--fs-small)';
                errorDiv.style.marginTop = '0.25rem';
                field.parentNode.appendChild(errorDiv);
            }
        }
    }
}

// Initialize features
document.addEventListener('DOMContentLoaded', function() {
    initVisitorCounter();
    initContactForm();
});
</script>

<footer>
  <div class="footer-content">
    <div class="footer-section">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="topics.html">Topics</a></li>
        <li><a href="updates.html">Updates</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h3>Domains</h3>
      <ul>
        <li><a href="motor-controls.html">Motor Controls</a></li>
        <li><a href="topics.html">Battery & BMS</a></li>
        <li><a href="topics.html">Power Electronics</a></li>
        <li><a href="topics.html">Embedded Systems</a></li>
      </ul>
    </div>

    <div class="footer-section">
      <h3>Connect</h3>
      <ul>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="https://www.linkedin.com/in/neerajyadav18" target="_blank">LinkedIn</a></li>
        <li><a href="mailto:nd18yadav@gmail.com">Email</a></li>
      </ul>
    </div>
  </div>

  <div class="footer-bottom">
    <p>&copy; 2026 EV & Electronics Lab. An open engineering knowledge base.</p>
    <p>Last updated: January 2026</p>
  </div>
</footer>

</body>
</html>
